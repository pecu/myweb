<!DOCTYPE html>
<html>
<head>
    <title>ChatGPT Conversation</title>
</head>
<body>
    <h1>ChatGPT Conversation</h1>

    <div id="api-key-input" style="display: none;">
        <label for="api-key">Please input your OpenAI API key</label>
        <input type="text" id="api-key" />
        <button onclick="initializeConversation()">Go</button>
    </div>

    <div id="conversation" style="display: none;">
        <div id="user-input">
            <label for="user-message">Start to chat：</label>
            <input type="text" id="user-message" />
            <button onclick="startConversation()">Go</button>
        </div>
        <div id="chat-box">
            <!-- 聊天内容将在这里显示 -->
        </div>
        <button onclick="stopConversation()">Stop</button>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/openai"></script>
    <script>
        function initializeConversation() {
            const apiKeyInput = document.getElementById('api-key');
            const apiKey = apiKeyInput.value.trim();

            if (apiKey) {
                apiKeyInput.style.display = 'none';
                document.getElementById('conversation').style.display = 'block';
                initChat(apiKey);
            } else {
                alert('API key error');
            }
        }

        function initChat(apiKey) {
            const chatBox = document.getElementById('chat-box');
            const userMessageInput = document.getElementById('user-message');

            console.log(apiKey);
            
        }
    </script>
</body>
</html>
